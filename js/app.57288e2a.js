(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/poc-eosio-did-immunity-passport/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"023c":function(e,t,n){},"09ec":function(e,t,n){"use strict";var r=n("023c"),o=n.n(r);o.a},1:function(e,t){},1124:function(e,t,n){},"1b26":function(e,t,n){"use strict";var r=n("a1e9"),o=n.n(r);o.a},2:function(e,t){},"23ee":function(e,t,n){},3:function(e,t){},4:function(e,t){},4703:function(e,t,n){},"4f0e":function(e,t,n){"use strict";var r=n("1124"),o=n.n(r);o.a},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f5766"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),o=n("ce5b"),i=n.n(o);n("bf40");r["default"].use(i.a,{iconfont:"mdi"});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("app-top-bar"),n("v-content",{attrs:{transition:"slide-x-transition"}},[n("router-view")],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("v-toolbar",{attrs:{app:"",color:"black darken-4",dark:""}},[n("h1",{staticClass:"text-center",on:{click:function(t){return e.home()}}},[e._v(e._s(e.appTitle))]),n("v-spacer",{staticClass:"hidden-md-and-up"}),n("v-spacer"),"worker"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.initiated()}}},[e._v("Initiated")]):e._e(),"worker"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.pending()}}},[e._v("Pending")]):e._e(),"individual"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.request()}}},[e._v("Request")]):e._e(),"individual"===e.$store.state.identity?n("v-btn",{on:{click:function(t){return e.view()}}},[e._v("View")]):e._e(),e.$store.state.loggedIn?n("v-btn",{on:{click:function(t){return e.handleLogout()}}},[e._v("Logout")]):e._e()],1)],1)},u=[],l=n("a34a"),d=n.n(l);function p(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,s,"next",e)}function s(e){p(i,r,o,a,s,"throw",e)}a(void 0)}))}}var f={name:"AppTopBar",data:function(){return{appTitle:"Immunity Passport"}},methods:{handleLogout:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.commit("loginStatus",!1),this.$store.commit("Identity",""),this.$router.push("/");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),home:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initiated:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("pending");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),pending:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("requests");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),request:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("immpass");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),view:function(){var e=h(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("view");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=f,v=(n("09ec"),n("2877")),y=Object(v["a"])(m,c,u,!1,null,"30a99992",null),w=y.exports,b={name:"App",components:{AppTopBar:w}},x=b,g=Object(v["a"])(x,a,s,!1,null,null,null),k=g.exports,q=n("8c4f"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Get a DID")]),n("pre",[n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")])]),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Register")])],1)],1)],1)},S=[],I=n("0926"),R=n("76b0"),j=n.n(R),C=n("842a"),P=n.n(C);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,s,"next",e)}function s(e){O(i,r,o,a,s,"throw",e)}a(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V="https://jungle2.eosio.cr:443",z={blockchain:"eos",protocol:"https",host:"jungle2.eosio.cr",port:443,chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"},W=function e(t,n){var r=this;D(this,e),L(this,"connect",E(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.a.scatter.connect(r.dappName).then((function(e){if(!e)return console.log("Failed to connect with Scatter!");r.scatter=j.a.scatter}));case 2:return e.next=4,r.scatter.forgetIdentity();case 4:return e.next=6,r.scatter.getIdentity({accounts:[z]}).then((function(){r.account=r.scatter.identity.accounts.find((function(e){return"eos"===e.blockchain}))}));case 6:if(null!==r.account){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))),L(this,"getDid",function(){var e=E(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:"certificatez",scope:"certificatez",table:"imntypass",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",[n.rows[0].expiry_time,n.rows[0].signature]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(this,"getRequests",function(){var e=E(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:"certificatez",scope:"certificatez",table:"listinit",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(this,"getPendingRequests",function(){var e=E(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:"certificatez",scope:"certificatez",table:"listpdg",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(this,"getDomain",function(){var e=E(d.a.mark((function e(t){var n;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.rpc.get_table_rows({json:!0,code:"orgscontract",scope:"orgscontract",table:"orgs",lower_bound:t});case 2:return n=e.sent,e.abrupt("return",n.rows[0].email);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L(this,"getOrganizations",E(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Here"),e.next=3,r.rpc.get_table_rows({json:!0,code:"orgscontract",scope:"orgscontract",table:"orgs"});case 3:return t=e.sent,e.abrupt("return",t.rows);case 5:case"end":return e.stop()}}),e)})))),L(this,"getLogin",function(){var e=E(d.a.mark((function e(t,n){var o,i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="","didscontract"===n?o="dids":"healthworker"===n&&(o="workers"),e.next=4,r.rpc.get_table_rows({json:!0,code:n,scope:n,table:o,lower_bound:t});case 4:if(i=e.sent,t!==i.rows[0].key){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L(this,"transaction",function(){var e=E(d.a.mark((function e(t,n){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.api=r.scatter.eos(z,I["Api"],{rpc:r.rpc}),e.next=3,r.api.transact({actions:[{account:r.contractAccount,name:t,authorization:[{actor:r.account.name,permission:r.account.authority}],data:$({},n)}]},{blocksBehind:3,expireSeconds:30});case 3:return e.sent,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.dappName=t,this.contractAccount=n,j.a.plugins(new P.a),this.rpc=new I["JsonRpc"](V);this.rpc;window.ScatterJS=null},F=W;function T(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}var G={data:function(){return{pKey:"",eosio:null}},methods:{handleLogin:function(){var e=A(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("issuedid","didscontract")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("upsert",{user:this.eosio.account.name,publicKey:this.eosio.account.publicKey});case 8:if(!e.sent){e.next=12;break}this.$store.commit("loginStatus",!0),this.$store.commit("Identity","individual"),this.$router.push("individual");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}()}},H=G,K=(n("d6db"),Object(v["a"])(H,_,S,!1,null,null,null)),Y=K.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-flex",{staticStyle:{"background-image":"url('http://cdn.wallpapersafari.com/7/86/gqiGH7.jpg')"},attrs:{xs3:""}},[n("v-card",{attrs:{height:"500px"}})],1),n("v-flex",{staticClass:"grey lighten-4",attrs:{xs4:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{attrs:{"primary-title":""}},[n("h4",[e._v("Health Org Registration")])]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"AccountName",label:"Account Name"},model:{value:e.accountName,callback:function(t){e.accountName=t},expression:"accountName"}}),n("v-text-field",{attrs:{name:"EmailAddress",label:"Domain Name"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{name:"OrganizationId",label:"Organization ID"},model:{value:e.orgId,callback:function(t){e.orgId=t},expression:"orgId"}}),n("v-text-field",{attrs:{name:"License",label:"Government Issued License"},model:{value:e.license,callback:function(t){e.license=t},expression:"license"}}),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",primary:"",large:"",block:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)},M=[];function B(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B(i,r,o,a,s,"next",e)}function s(e){B(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Q={data:function(){return{accountName:"",email:"",orgId:"",license:"",defaultDidContract:"didscontract",defaultContract:"orgscontract",eosio:null}},methods:{handleLogin:function(){var e=U(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("healthorg","orgscontract"),console.log("healthorg"),console.log("orgscontract")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("upsert",{user:this.accountName,email:this.email,organizationId:this.orgId,licenseId:this.license,didContractAccount:this.defaultDidContract,contractAccount:this.defaultContract});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("home");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},X=Q,Z=Object(v["a"])(X,J,M,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Health Worker Registration")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"red"}},[e._v("Domain did not match with the listed domain of the organization")]),n("v-form",[n("v-text-field",{attrs:{name:"UserName",label:"Health Worker Name"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),n("form",{attrs:{id:"employees"}},[n("select",{attrs:{id:"workers"}},[n("option",{attrs:{id:"default"}},[e._v("Choose your organization")])]),n("v-btn",{attrs:{id:"view",color:"primary",primary:""},on:{click:function(t){return e.getList()}}},[e._v("View")]),n("v-btn",{attrs:{id:"select",color:"primary",primary:""},on:{click:function(t){return e.val()}}},[e._v("Select")])],1),n("v-text-field",{attrs:{type:"email",name:"EmailAddress",label:"Email Address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.emailOTP()}}},[e._v("Register")])],1)],1)],1)],1)},ne=[];function re(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){re(i,r,o,a,s,"next",e)}function s(e){re(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ie={data:function(){return{userName:"",email:"",orgName:"",defaultDidContract:"didscontract",defaultHealthOrgContract:"orgscontract",eosio:null}},methods:{val:function(){var e=oe(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#workers").value,this.orgName=t;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=oe(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("healthorg","orgscontract")),e.next=3,this.eosio.getOrganizations();case 3:for(n in t=e.sent,t)r=document.createElement("option"),r.value=t[n].key,r.text=t[n].key,document.querySelector("#workers").appendChild(r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),emailOTP:function(){var e=oe(d.a.mark((function e(){var t,n,r,o,i,a,s;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#red").style.display="none",t=document.querySelector("#workers").value,this.orgName=t,e.prev=3,null===this.eosio&&(this.eosio=new F("onboarding","healthworker")),e.next=7,this.eosio.connect();case 7:if(e.sent){e.next=9;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 9:for(i in n=this.email,r=!1,o="",n)r&&(o+=n[i]),"@"===n[i]&&(r=!0);return e.next=15,this.eosio.getDomain(this.orgName);case 15:if(a=e.sent,o!==a){e.next=24;break}return s="https://stormy-wave-89329.herokuapp.com/send?to="+this.email+"&org="+this.orgName+"&account="+this.userName,console.log(s),e.next=21,fetch(s);case 21:console.log("Fetched"),e.next=25;break;case 24:document.querySelector("#red").style.display="inline";case 25:e.next=29;break;case 27:e.prev=27,e.t0=e["catch"](3);case 29:case"end":return e.stop()}}),e,this,[[3,27]])})));function t(){return e.apply(this,arguments)}return t}()}},ae=ie,se=(n("1b26"),Object(v["a"])(ae,te,ne,!1,null,null,null)),ce=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("View Immunity Passport")]),n("pre",[n("p",{attrs:{id:"colorRed"}},[e._v("Could not find Immunity Passport")])]),n("div",{attrs:{id:"circle"}},[n("p",{attrs:{id:"colorGreen"}},[e._v("Yes, you are Immune! Your immunity passport is valid.")]),n("pre",[n("p",{attrs:{id:"ifExists"}},[e._v("Expires at: "+e._s(e.expiry))])]),n("pre",[n("p",{attrs:{id:"ifExist"}},[e._v("Signature: "+e._s(e.signature))])])]),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.view()}}},[e._v("View")])],1)],1)],1)},le=[];function de(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){de(i,r,o,a,s,"next",e)}function s(e){de(i,r,o,a,s,"throw",e)}a(void 0)}))}}var he={data:function(){return{expiry:"",signature:"",eosio:null,sendItems:""}},methods:{view:function(){var e=pe(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,document.querySelector("#colorRed").style.display="none",document.querySelector("#colorGreen").style.display="none",document.querySelector("#ifExists").style.display="none",document.querySelector("#ifExist").style.display="none",document.querySelector("#circle").style.display="none",e.next=13,this.eosio.transaction("verify",{_individual:this.eosio.account.name});case 13:if(!e.sent){e.next=23;break}return document.querySelector("#colorGreen").style.display="inline",e.next=17,this.eosio.getDid(this.eosio.account.name);case 17:t=e.sent,this.expiry=t[0],this.signature=t[1],document.querySelector("#ifExists").style.display="inline",document.querySelector("#ifExist").style.display="inline",document.querySelector("#circle").style.display="block";case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 29:case"end":return e.stop()}}),e,this,[[5,25]])})));function t(){return e.apply(this,arguments)}return t}()}},fe=he,me=(n("4f0e"),Object(v["a"])(fe,ue,le,!1,null,"70de3a30",null)),ve=me.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-title",{attrs:{"primary-title":""}},[n("h4",[e._v("Your details have been saved")])])},we=[],be={components:{}},xe=be,ge=Object(v["a"])(xe,ye,we,!1,null,null,null),ke=ge.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Login")]),n("pre",[n("p",{attrs:{id:"colorRed"}},[e._v("Could not find your credentials")])]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.handleLogin()}}},[n("v-icon",[e._v("mdi-account-circle")]),e._v("Individual Login")],1),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.handleWorkerLogin()}}},[e._v(" Worker Login")]),n("pre",[n("span",[e._v("Don't already have an account? "),n("router-link",{attrs:{to:"/register"}},[e._v("Get a DID here")]),e._v(" ")],1)])],1)],1)],1)},_e=[];function Se(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Se(i,r,o,a,s,"next",e)}function s(e){Se(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Re={data:function(){return{email:"",orgName:"",license:"",defaultDidContract:"didscontract",defaultHealthWorkerContract:"healthworker",eosio:null}},methods:{handleLogin:function(){var e=Ie(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("issuedid","didscontract")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getLogin(this.eosio.account.name,this.defaultDidContract);case 8:t=e.sent,t?(this.$store.commit("loginStatus",!0),this.$store.commit("Identity","individual"),this.$router.push("individual")):document.querySelector("#colorRed").style.display="inline",e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(){return e.apply(this,arguments)}return t}(),handleWorkerLogin:function(){var e=Ie(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("issuedid","didscontract")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getLogin(this.eosio.account.name,this.defaultHealthWorkerContract);case 8:t=e.sent,t?(this.$store.commit("loginStatus",!0),this.$store.commit("Identity","worker"),this.$router.push("workerview")):document.querySelector("#colorRed").style.display="inline",e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(){return e.apply(this,arguments)}return t}()}},je=Re,Ce=(n("fd8b"),Object(v["a"])(je,qe,_e,!1,null,"78a10dd4",null)),Pe=Ce.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Request Immunity Passport")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("p",{attrs:{id:"colorGreen"}},[e._v("Your request is saved. Please show your license to the healthworker to proceed.")]),n("v-form",[n("v-text-field",{attrs:{name:"HealthWorker",label:"Health Worker Name"},model:{value:e.healthWorkerName,callback:function(t){e.healthWorkerName=t},expression:"healthWorkerName"}}),n("v-btn",{attrs:{color:"primary",id:"click",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Request")])],1)],1)],1)],1)},$e=[];function Oe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,s,"next",e)}function s(e){Oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var De={data:function(){return{healthWorkerName:"",didContract:"didscontract",healthWorkerContract:"healthworker",eosio:null}},methods:{handleLogin:function(){var e=Ee(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#colorRed").style.display="none",document.querySelector("#colorGreen").style.display="none",null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=5,this.eosio.connect();case 5:if(e.sent){e.next=7;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 7:return e.prev=7,console.log(this.healthWorkerName),console.log(this.healthWorkerContract),console.log(this.didContract),e.next=13,this.eosio.transaction("initiate",{_requester_name:this.eosio.account.name,_healthworker_name:this.healthWorkerName,didContractAccount:this.didContract,healthWorkersContractAccount:this.healthWorkerContract});case 13:if(!e.sent){e.next=17;break}this.$store.commit("loginStatus",!0),document.querySelector("#colorGreen").style.display="inline",document.querySelector("#click").style.display="none";case 17:e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](7),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[7,19]])})));function t(){return e.apply(this,arguments)}return t}()}},Le=De,Ve=(n("b729"),Object(v["a"])(Le,Ne,$e,!1,null,"3b06f234",null)),ze=Ve.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("p",{attrs:{id:"colorGreen"}},[e._v("Request is validated")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Government ID"},model:{value:e.govtId,callback:function(t){e.govtId=t},expression:"govtId"}}),n("v-btn",{attrs:{color:"primary",id:"click",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Validate")])],1)],1)],1)],1)},Fe=[];function Te(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Te(i,r,o,a,s,"next",e)}function s(e){Te(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ge={data:function(){return{requesterName:"",healthWorkerName:"",govtId:"",eosio:null}},methods:{handleLogin:function(){var e=Ae(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("validate",{_requester_name:this.requesterName,_health_worker_name:this.eosio.account.name,_govt_id_number:this.govtId});case 8:if(!e.sent){e.next=12;break}this.$store.commit("loginStatus",!0),document.querySelector("#colorGreen").style.display="inline",document.querySelector("#click").style.display="none";case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}()}},He=Ge,Ke=(n("f17c"),Object(v["a"])(He,We,Fe,!1,null,"728d81f0",null)),Ye=Ke.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Issue Immunity Passport")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Issue")])],1)],1)],1)],1)},Me=[];function Be(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Be(i,r,o,a,s,"next",e)}function s(e){Be(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Qe={data:function(){return{requesterName:"",healthWorkerName:"",testReportId:"",eosio:null}},methods:{handleLogin:function(){var e=Ue(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("issue",{_requester:this.requesterName,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("requests");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},Xe=Qe,Ze=Object(v["a"])(Xe,Je,Me,!1,null,null,null),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("Reject Immunity Passport")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("v-form",[n("v-text-field",{attrs:{name:"Requester",label:"Requester Name"},model:{value:e.requesterName,callback:function(t){e.requesterName=t},expression:"requesterName"}}),n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Reject")])],1)],1)],1)],1)},nt=[];function rt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rt(i,r,o,a,s,"next",e)}function s(e){rt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var it={data:function(){return{requesterName:"",healthWorkerName:"",testReportId:"",eosio:null}},methods:{handleLogin:function(){var e=ot(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("reject",{_requester:this.requesterName,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=11;break}this.$store.commit("loginStatus",!0),this.$router.push("requests");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},at=it,st=Object(v["a"])(at,tt,nt,!1,null,null,null),ct=st.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("What would you like to do?")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.initiated()}}},[e._v("View Initiated Requests")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.validated()}}},[e._v("View Pending Requests")])],1)],1)],1)},lt=[];function dt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dt(i,r,o,a,s,"next",e)}function s(e){dt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ht={data:function(){return{pKey:"",eosio:null}},methods:{initiated:function(){var e=pt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("pending");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validated:function(){var e=pt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("requests");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ft=ht,mt=Object(v["a"])(ft,ut,lt,!1,null,null,null),vt=mt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("What would you like to do?")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.request()}}},[e._v("Request for Immunity Passport")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.view()}}},[e._v("View your Immunity Passport")])],1)],1)],1)},wt=[];function bt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bt(i,r,o,a,s,"next",e)}function s(e){bt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var gt={data:function(){return{pKey:"",eosio:null}},methods:{request:function(){var e=xt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("immpass");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),view:function(){var e=xt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("view");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},kt=gt,qt=Object(v["a"])(kt,yt,wt,!1,null,null,null),_t=qt.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",[e._v("I am?")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.individual()}}},[e._v("Individual")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.worker()}}},[e._v("Health Worker")])],1)],1)],1)},It=[];function Rt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rt(i,r,o,a,s,"next",e)}function s(e){Rt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ct={data:function(){return{pKey:"",eosio:null}},methods:{individual:function(){var e=jt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("login");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),worker:function(){var e=jt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("worker");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Pt=Ct,Nt=Object(v["a"])(Pt,St,It,!1,null,null,null),$t=Nt.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",{attrs:{id:"remove"}},[e._v("Requests Initiated")]),n("pre",[n("h1",{attrs:{id:"ifExists"}},[e._v("The following have requested for an immunity passport")])]),n("p",{attrs:{id:"ifNotSelected"}},[e._v("Please select a name from the drop down menu")]),n("p",{attrs:{id:"fail"}},[e._v("Could not process the details")]),n("h1",{attrs:{id:"noRequests"}},[e._v("You have no requests for now.")]),n("pre",[n("p",{attrs:{id:"green"}},[e._v("The request has been validated")])]),n("v-btn",{attrs:{color:"primary",id:"request",primary:""},on:{click:function(t){return e.viewRequests()}}},[e._v("View")]),n("form",{attrs:{id:"form",name:"requestsForm"}},[n("select",{attrs:{id:"border"}},[n("option",{attrs:{value:"none"}},[e._v("Choose the patient")])]),n("pre",[n("v-btn",{attrs:{color:"primary",id:"ifTrue"},on:{click:function(t){return e.getName()}}},[e._v("Enter Government ID")])],1),n("h1",{attrs:{id:"ifValid"}},[e._v("Validating request for "+e._s(e.name))])]),n("div",{attrs:{id:"display"}},[n("v-form",[n("v-text-field",{attrs:{name:"ID",label:"Government ID"},model:{value:e.govtId,callback:function(t){e.govtId=t},expression:"govtId"}}),n("v-btn",{attrs:{color:"primary",id:"click",primary:""},on:{click:function(t){return e.handleLogin()}}},[e._v("Validate")])],1)],1)],1)],1)],1)},Et=[];function Dt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dt(i,r,o,a,s,"next",e)}function s(e){Dt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Vt={data:function(){return{name:"",govtId:"",listRequests:[],eosio:null}},components:{Validate:Ye},methods:{handleLogin:function(){var e=Lt(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("#green").style.display="none",document.querySelector("#fail").style.display="none",null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez"),console.log("certificatez"),console.log("immunity-passport")),e.next=5,this.eosio.connect();case 5:if(e.sent){e.next=7;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 7:return e.prev=7,e.next=10,this.eosio.transaction("validate",{_requester_name:this.name,_health_worker_name:this.eosio.account.name,_govt_id_number:this.govtId});case 10:if(!e.sent){e.next=22;break}this.$router.push("pending"),this.$store.commit("loginStatus",!0),document.querySelector("#ifValid").style.display="none",document.querySelector("#click").style.display="none",document.querySelector("#display").style.display="none",document.querySelector("#ifTrue").style.display="none",document.querySelector("#border").style.display="none",document.querySelector("#green").style.display="inline",document.querySelector("#green").style.display="inline",document.querySelector("#ifExists").style.display="none",document.querySelector("#remove").style.display="inline";case 22:e.next=30;break;case 24:e.prev=24,e.t0=e["catch"](7),document.querySelector("#fail").style.display="inline",document.querySelector("#display").style.display="none",document.querySelector("#ifValid").style.display="none",console.log(e.t0);case 30:case"end":return e.stop()}}),e,this,[[7,24]])})));function t(){return e.apply(this,arguments)}return t}(),getName:function(){var e=Lt(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.querySelector("#ifNotSelected").style.display="none",document.querySelector("#display").style.display="none",document.querySelector("#ifValid").style.display="none",t=document.querySelector("#border").value,this.name=t,"none"!==this.name?(document.querySelector("#display").style.display="inline",document.querySelector("#ifValid").style.display="inline"):document.querySelector("#ifNotSelected").style.display="inline";case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequests:function(){var e=Lt(d.a.mark((function e(){var t,n,r,o,i,a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getRequests();case 8:for(o in t=e.sent,n=[],r=0,t)t[o].healthworker_name==this.eosio.account.name&&(n.push(t[o]),r++,i=document.createElement("option"),i.value=t[o].requester_name,i.text=t[o].requester_name,a=document.createElement("br"),document.querySelector("#border").appendChild(a),document.querySelector("#border").appendChild(i),document.querySelector("#border").appendChild(a));this.listRequests=n,document.querySelector("#remove").style.display="none",document.querySelector("#request").style.display="none",document.querySelector("#ifValid").style.display="none",0!=r?(document.querySelector("#ifExists").style.display="inline",document.querySelector("#border").style.display="block",document.querySelector("#ifTrue").style.display="inline"):document.querySelector("#noRequests").style.display="inline",e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),console.log(e.t0);case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));function t(){return e.apply(this,arguments)}return t}()}},zt=Vt,Wt=(n("66b11"),Object(v["a"])(zt,Ot,Et,!1,null,"25b06fe1",null)),Ft=Wt.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{staticClass:"text-xs-center",attrs:{row:""}},[n("v-container",{staticClass:"text-xs-center",staticStyle:{position:"relative",top:"13%"}},[n("h1",{attrs:{id:"remove"}},[e._v("Pending Requests")]),n("pre",[n("h1",{attrs:{id:"ifExists"}},[e._v("Select the patient: ")])]),n("p",{attrs:{id:"ifNotSelected"}},[e._v("Please select an option from the drop down menu")]),n("p",{attrs:{id:"colorRed"}},[e._v("Could not process the details")]),n("pre",[n("p",{attrs:{id:"green"}},[e._v("Your action has been saved")])]),n("h1",{attrs:{id:"noRequests"}},[e._v("You have no pending requests for now.")]),n("v-btn",{attrs:{color:"primary",id:"request",primary:""},on:{click:function(t){return e.viewRequests()}}},[e._v("View")]),n("form",{attrs:{id:"form",name:"requestsForm"}},[n("select",{attrs:{id:"border"}},[n("option",{attrs:{value:"none"}},[e._v("Choose the patient")])]),n("div",{attrs:{id:"display"}},[n("v-btn",{attrs:{color:"primary",id:"requestIssue",primary:""},on:{click:function(t){return e.Issuing()}}},[e._v("Issue")]),n("v-btn",{attrs:{color:"primary",id:"requestReject",primary:""},on:{click:function(t){return e.Rejecting()}}},[e._v("Reject")])],1)]),n("h1",{attrs:{id:"ifValid"}},[e._v("Issue Immunity Passport to: "+e._s(e.name))]),n("h1",{attrs:{id:"ifNotValid"}},[e._v("Reject Immunity Passport to: "+e._s(e.name))]),n("div",{attrs:{id:"issue"}},[n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.Issue()}}},[e._v("Issue")])],1),n("div",{attrs:{id:"reject"}},[n("v-text-field",{attrs:{name:"ID",label:"Test Report ID"},model:{value:e.testReportId,callback:function(t){e.testReportId=t},expression:"testReportId"}}),n("v-btn",{attrs:{color:"primary",primary:""},on:{click:function(t){return e.Reject()}}},[e._v("Reject")])],1)],1)],1)],1)},At=[];function Gt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gt(i,r,o,a,s,"next",e)}function s(e){Gt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Kt={data:function(){return{name:"",testReportId:"",pKey:"",listRequests:[],picked:"",eosio:null}},components:{Issue:et,Reject:ct},methods:{Issue:function(){var e=Ht(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez"),console.log("certificatez"),console.log("immunity-passport")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("issue",{_requester:this.name,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=23;break}this.$store.commit("loginStatus",!0),document.querySelector("#green").style.display="inline",document.querySelector("#colorRed").style.display="none",document.querySelector("#request").style.display="none",document.querySelector("#requestIssue").style.display="none",document.querySelector("#requestReject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",document.querySelector("#border").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none",document.querySelector("#ifExists").style.display="none",document.querySelector("#remove").style.display="inline",this.$router.push("requests");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline",console.log(e.t0);case 29:case"end":return e.stop()}}),e,this,[[5,25]])})));function t(){return e.apply(this,arguments)}return t}(),Reject:function(){var e=Ht(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez"),console.log("certificatez"),console.log("immunity-passport")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.transaction("reject",{_requester:this.name,_healthworker:this.eosio.account.name,_testreport_id:this.testReportId});case 8:if(!e.sent){e.next=18;break}this.$store.commit("loginStatus",!0),document.querySelector("#green").style.display="inline",document.querySelector("#colorRed").style.display="none",document.querySelector("#request").style.display="none",document.querySelector("#requestIssue").style.display="none",document.querySelector("#requestReject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",this.$router.push("requests");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](5),document.querySelector("#colorRed").style.display="inline";case 23:case"end":return e.stop()}}),e,this,[[5,20]])})));function t(){return e.apply(this,arguments)}return t}(),Issuing:function(){var e=Ht(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#border").value,this.name=t,console.log(this.name),document.querySelector("#issue").style.display="none",document.querySelector("#reject").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none","none"!==this.name?(document.querySelector("#ifNotSelected").style.display="none",document.querySelector("#display").style.display="inline",document.querySelector("#ifValid").style.display="inline",document.querySelector("#issue").style.display="inline"):document.querySelector("#ifNotSelected").style.display="inline";case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Rejecting:function(){var e=Ht(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#border").value,this.name=t,document.querySelector("#reject").style.display="none",document.querySelector("#issue").style.display="none",document.querySelector("#ifValid").style.display="none",document.querySelector("#ifNotValid").style.display="none","none"!==this.name?(document.querySelector("#ifNotSelected").style.display="none",document.querySelector("#display").style.display="inline",document.querySelector("#ifNotValid").style.display="inline",document.querySelector("#reject").style.display="inline"):document.querySelector("#ifNotSelected").style.display="inline";case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewRequests:function(){var e=Ht(d.a.mark((function e(){var t,n,r,o,i,a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===this.eosio&&(this.eosio=new F("immunity-passport","certificatez")),e.next=3,this.eosio.connect();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",console.log("Failed to get Scatter account"));case 5:return e.prev=5,e.next=8,this.eosio.getPendingRequests();case 8:for(o in t=e.sent,n=[],r=0,t)t[o].healthworker_name==this.eosio.account.name&&(n.push(t[o]),r++,i=document.createElement("option"),i.value=t[o].requester_name,i.text=t[o].requester_name,document.querySelector("#border").appendChild(i),a=document.createElement("br"),document.querySelector("#border").appendChild(a));this.listRequests=n,document.querySelector("#remove").style.display="none",document.querySelector("#request").style.display="none",0!=r?(document.querySelector("#ifExists").style.display="inline",document.querySelector("#display").style.display="inline",document.querySelector("#border").style.display="block"):document.querySelector("#noRequests").style.display="inline",e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(){return e.apply(this,arguments)}return t}()}},Yt=Kt,Jt=(n("9bfd"),Object(v["a"])(Yt,Tt,At,!1,null,"4e538c97",null)),Mt=Jt.exports;r["default"].use(q["a"]);var Bt=new q["a"]({mode:"history",base:"/poc-eosio-did-immunity-passport/",routes:[{path:"/login",name:"login",component:Y},{path:"/",name:"first",component:Pe},{path:"/home",name:"home",component:ke},{path:"/org",name:"org",component:ee},{path:"/worker",name:"worker",component:ce},{path:"/view",name:"view",component:ve,props:!0},{path:"/immpass",name:"immpass",component:ze},{path:"/validate",name:"validate",component:Ye},{path:"/issue",name:"issue",component:et},{path:"/reject",name:"reject",component:ct},{path:"/workerview",name:"workerview",component:vt},{path:"/individual",name:"individual",component:_t},{path:"/register",name:"register",component:$t},{path:"/pass",name:"pass",component:ve,props:!0},{path:"/pending",name:"pending",component:Ft},{path:"/requests",name:"requests",component:Mt}]}),Ut=n("2f62"),Qt=n("0e44");r["default"].use(Ut["a"]);var Xt=new Ut["a"].Store({plugins:[Object(Qt["a"])({storage:window.sessionStorage})],state:{loggedIn:!1,identity:""},mutations:{loginStatus:function(e,t){e.loggedIn=t},Identity:function(e,t){e.identity=t}},getters:{loggedIn:function(e){return e.loggedIn},actor:function(e){return e.identity}},actions:{}});r["default"].config.productionTip=!1,new r["default"]({router:Bt,store:Xt,render:function(e){return e(k)}}).$mount("#app")},"66b11":function(e,t,n){"use strict";var r=n("4703"),o=n.n(r);o.a},"7feb":function(e,t,n){},"8fa5":function(e,t,n){},"9bfd":function(e,t,n){"use strict";var r=n("8fa5"),o=n.n(r);o.a},a1e9:function(e,t,n){},a9e7:function(e,t,n){},b729:function(e,t,n){"use strict";var r=n("7feb"),o=n.n(r);o.a},c257:function(e,t,n){},d6db:function(e,t,n){"use strict";var r=n("a9e7"),o=n.n(r);o.a},f17c:function(e,t,n){"use strict";var r=n("23ee"),o=n.n(r);o.a},fd8b:function(e,t,n){"use strict";var r=n("c257"),o=n.n(r);o.a}});
//# sourceMappingURL=app.57288e2a.js.map